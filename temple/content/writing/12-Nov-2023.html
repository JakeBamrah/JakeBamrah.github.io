{% extends "../base.html" %}
    {% block body %}
        <h2 class="writing-header">Writing a more efficient orderbook</h2>
        <p>
        It's been just over a year since I last wrote a simple order-book<a href="#1"><sup>[1]</sup></a> and
        recently, I've decided it would be a good idea to make another attempt at
        writing one over a weekend to see how my general knowledge of C and
        data-structures have improved. My original motivation for this project was to
        get a grasp of some basic C++ syntax while exploring some of the core mechanics
        behind market-making systems. While I believe matching-engine patterns are
        mostly a solved problem in software (where your edge is more likely to come from
        hardware rather than software), building one encourages you to think critically
        of your data-structure choices while being considerate of the memory-footprint
        around such structures. The need for efficiency is due to the fact that
        matching-engines must handle order-matching sequentially
        (handling 100,000's of messages per second) and as such, can quickly become a
        bottleneck for an exchange.
        </p>

        <p>
        Before evaluating my original implementation along with the changes made in my
        second attempt, I'll quickly explain some of the requirements expected of an
        order-book<a href="#2"><sup>[2]</sup></a>. We should aim to implement order operations such as <code>add</code>,
        <code>cancel</code> and <code>execute</code> in <span class="math">O(1)</span> time. Notably,
        wkselph<a href="#2"><sup>[2]</sup></a> raises an interesting
        point, stating that your most common operations are going to be adds and
        cancels, with executions coming a distant third. This will be an important point
        to consider later on. With regards to limit operations, it's important to ensure
        that the top of the book (min-asks/max-bids) are tracked in <span class="math">O(1)</span> time—allowing new
        orders crossing the order-book to be matched with their opposition
        (min-ask or max-bid) as quickly as possible—and limit volumes should be tracked
        so that order-book volume can be discovered efficiently. Both individual limits
        and orders should be accessible in <span class="math">O(1)</span> time respectively.
        </p>

        <p>
        For my first attempt, I managed to cobble together a very basic matching-engine
        that handled FIFO order execution using limit and market orders. Despite
        learning a lot from this attempt, I struggled to yield an efficient
        implementation and my choice of data-structures had quite a negative impact on
        performance. For example, limits were stored using a hash-map, with each <code>limit</code>
        being keyed by it's price point (allowing limit and order adds in <span class="math">O(1)</span> time).
        A benefit of using hash-maps to track price-points is that we can accommodate
        large gaps between limits, so sparsely populated books will consume less memory.
        This allows times of price-volatility to be handled conveniently too, however,
        all of this comes at the cost of dynamic allocation. While limits were tracked
        using a map, orders were allocated at runtime and stored in a doubly-linked-list
        under each limit. This made tracking orders difficult, where removing an order
        would take <span class="math">O(n)</span> time
        (<span class="math">n</span> representing the total number of orders and
        <span class="math">m</span> being total limits). From an implementation
        perspective, using these data-structures kept the code very simple,
        however, the penance for taking the easier route here was that most
        (if not all) of the critical objects involved in this engine were
        <b>heap-allocated</b>.
        </p>

        <p>
        This brings me to my second attempt that I quickly hacked together over the
        weekend. Being a year since my last approach, I've had some time to reflect on
        how I can make a better attempt at the original implementation. Something I would like to focus on with this attempt
        is to <i>try</i> and keep all object initialisation static, improving the runtime
        complexity for locating orders and to provide a more optimal way of sorting
        ask/bid limits. All of the above was written in C during this attempt, which
        mean't that many of the required data-structures needed to be built from
        scratch. To achieve this, orders and limits are now initialised in pre-defined
        arenas (arrays) which are fixed in size. Limits are keyed into the arena using
        their price-point as the key—this comes with the disadvantage of being less
        flexible in times of excessive price-volatility as the price-point range is
        now fixed rather than dynamic—and allows limits and orders to be accessed
        (sequentially if we're lucky) in <span class="math">O(1)</span> time respectively. Limits are stored
        in priority-queues<a href="#3"><sup>[3]</sup></a> using their price-points only, which means that we maintain a
        sorted order of active bid and ask limits in <span class="math">O(logm)</span> time. This also allows
        us to retain our top-of-book access times at <span class="math">O(1)</span> too!
        </p>
        <img style="width:100%;" src="data:image/webp;base64,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" alt="" />

        <p>
        <i>Free</i> orders are stored in a stack (<code>free_orders</code>) using the order's array
        index as the key. This allows efficient re-use of recently "freed" orders,
        where more recently used orders appear toward the top of the stack. What's nice
        about this approach is that more recently used orders have a higher likelihood
        of remaining within the (hot) cache and should therefore allow for more
        efficient access times because they have not yet been ejected from the cache yet (leveraging
        spatial and temporal locality). Similar to the limit arena, we are limited to
        the number of orders we can support for a given ticker-symbol, but this can be
        resized on a per-symbol-basis based on expected volume. Finally, all structs
        have been packed to reduce memory slop<a href="#4"><sup>[4]</sup></a>
        <a href="#5"><sup>[5]</sup></a>.
        </p>

        <p>
        Ultimately, the final result came out quite well for a short weekend project
        and served as a nice intro into arena allocation, structure-packing and
        priority queues. If I were to expand upon this project further, I would
        like to make a simple event system where executed trades are written to
        lockfree buffer and later handled by another thread accordingly, but
        that can be a task for another day.
        The order-book code can be found on
        <a href="https://github.com/JakeBamrah/weekend-orderbook">github</a> for
        anyone interested and feel free to reach out if you see any mistakes or
        improvements.
        </p>

        <p class="ref-url">
            <a id="1" href="https://github.com/JakeBamrah/simple-orderbook">
                [1] Simple order-book
            </a>
        <p class="ref-url">
            <a id="2" href="https://web.archive.org/web/20110219163448/http://howtohft.wordpress.com/2011/02/15/how-to-build-a-fast-limit-order-book/">
                [2] How to build a fast limit order-book
            </a>
        </p>
        <p class="ref-url">
            <a id="3" href="https://pages.cs.wisc.edu/~vernon/cs367/notes/11.PRIORITY-Q.html">
                [3] Priority queues
            </a>
        </p>
        <p class="ref-url">
            <a id="4" href="https://akkadia.org/drepper/cpumemory.pdf">
                [4] What every programmer should know about memory
            </a>
        </p>
        <p class="ref-url">
            <a id="5" href="http://www.catb.org/esr/structure-packing/">
                [5] The lost art of structure packing
            </a>
        </p>
    {% endblock %}
{% endblock %}
